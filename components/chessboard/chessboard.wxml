<!-- 棋盘组件 - chessboard.wxml -->
<view class="chessboard-container">
  <canvas 
    canvas-id="{{canvasId}}" 
    class="chessboard-canvas"
    style="width: {{boardSize}}px; height: {{boardSize}}px;"
    bindtouchstart="onTouchStart"
    bindtouchmove="onTouchMove"
    bindtouchend="onTouchEnd"
  ></canvas>
  
  <view class="chess-pieces-layer">
    <block wx:for="{{board}}" wx:for-item="row" wx:for-index="rowIndex" wx:key="rowIndex">
      <block wx:for="{{row}}" wx:for-item="cell" wx:for-index="colIndex" wx:key="colIndex">
        <view 
          wx:if="{{cell !== 0}}"
          class="chess-piece {{cell === 1 ? 'black' : 'white'}}"
          style="left: {{colIndex * cellSize + cellSize/2 - pieceSize/2}}px; top: {{rowIndex * cellSize + cellSize/2 - pieceSize/2}}px; width: {{pieceSize}}px; height: {{pieceSize}}px;"
          bindtap="onPieceTap"
          data-row="{{rowIndex}}"
          data-col="{{colIndex}}"
        ></view>
      </block>
    </block>
  </view>
</view>