<!-- é¦–é¡µ - index.wxml -->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="navbar">
    <text class="navbar-title">äº”å­æ£‹</text>
    <button class="settings-btn" bindtap="goToSettings">
      <text class="settings-icon">âš™</text>
    </button>
  </view>
  
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card" wx:if="{{userInfo}}">
    <view class="user-avatar">
      <image src="{{userInfo.avatarUrl}}" class="avatar-img"></image>
    </view>
    <view class="user-info">
      <text class="user-name">{{userInfo.nickName}}</text>
      <view class="user-stats">
        <text class="stat-item">ç­‰çº§ {{userLevel}}</text>
        <text class="stat-item">èƒœç‡ {{winRate}}</text>
        <text class="stat-item">è¿èƒœ {{currentStreak}}</text>
      </view>
    </view>
  </view>
  
  <!-- æ¸¸æˆæ¨¡å¼é€‰æ‹© -->
  <view class="game-modes">
    <view class="mode-card ai-mode" bindtap="startAIGame">
      <view class="mode-icon">
        <text class="icon">ğŸ¤–</text>
      </view>
      <view class="mode-content">
        <text class="mode-title">äººæœºå¯¹æˆ˜</text>
        <text class="mode-desc">æŒ‘æˆ˜æ™ºèƒ½AIï¼Œæå‡æ£‹åŠ›</text>
        <view class="mode-difficulty">
          <text class="difficulty-label">éš¾åº¦:</text>
          <picker 
            bindchange="onDifficultyChange" 
            value="{{difficultyIndex}}" 
            range="{{difficultyOptions}}"
            class="difficulty-picker"
          >
            <text class="difficulty-text">{{currentDifficulty}}</text>
          </picker>
        </view>
      </view>
      <view class="mode-arrow">
        <text class="arrow">â€º</text>
      </view>
    </view>
    
    <view class="mode-card multiplayer-mode" bindtap="goToMultiplayer">
      <view class="mode-icon">
        <text class="icon">ğŸ‘¥</text>
      </view>
      <view class="mode-content">
        <text class="mode-title">å¥½å‹å¯¹æˆ˜</text>
        <text class="mode-desc">é‚€è¯·å¥½å‹ï¼Œå®æ—¶å¯¹å¼ˆ</text>
        <text class="mode-status">{{onlineUsers}} äººåœ¨çº¿</text>
      </view>
      <view class="mode-arrow">
        <text class="arrow">â€º</text>
      </view>
    </view>
    
    <view class="mode-card quick-mode" bindtap="startQuickGame">
      <view class="mode-icon">
        <text class="icon">âš¡</text>
      </view>
      <view class="mode-content">
        <text class="mode-title">å¿«é€Ÿå¼€å§‹</text>
        <text class="mode-desc">ç«‹å³å¼€å§‹ä¸€å±€æ¸¸æˆ</text>
        <text class="mode-status">ä¸Šæ¬¡: {{lastGameTime}}</text>
      </view>
      <view class="mode-arrow">
        <text class="arrow">â€º</text>
      </view>
    </view>
  </view>
  
  <!-- å¿«é€Ÿæ“ä½œ -->
  <view class="quick-actions">
    <button class="action-btn rank-btn" bindtap="goToRank">
      <text class="btn-icon">ğŸ†</text>
      <text class="btn-text">æ’è¡Œæ¦œ</text>
    </button>
    
    <button class="action-btn history-btn" bindtap="goToHistory">
      <text class="btn-icon">ğŸ“Š</text>
      <text class="btn-text">å¯¹æˆ˜è®°å½•</text>
    </button>
    
    <button class="action-btn tutorial-btn" bindtap="goToTutorial">
      <text class="btn-icon">ğŸ“–</text>
      <text class="btn-text">æ¸¸æˆæ•™ç¨‹</text>
    </button>
  </view>
  
  <!-- æœ€è¿‘å¯¹å±€ -->
  <view class="recent-games" wx:if="{{recentGames.length > 0}}">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘å¯¹å±€</text>
      <text class="section-more" bindtap="goToHistory">æŸ¥çœ‹æ›´å¤š</text>
    </view>
    
    <view class="game-list">
      <block wx:for="{{recentGames}}" wx:key="id" wx:for-item="game">
        <view class="game-item" bindtap="reviewGame" data-game="{{game}}">
          <view class="game-result {{game.result}}">
            <text class="result-icon">{{game.result === 'win' ? 'âœ“' : game.result === 'lose' ? 'âœ—' : '='}}</text>
          </view>
          <view class="game-info">
            <text class="game-opponent">{{game.opponent}}</text>
            <text class="game-date">{{game.date}}</text>
          </view>
          <view class="game-duration">
            <text class="duration-text">{{game.duration}}</text>
          </view>
        </view>
      </block>
    </view>
  </view>
  
  <!-- æˆå°±å±•ç¤º -->
  <view class="achievements" wx:if="{{achievements.length > 0}}">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘æˆå°±</text>
    </view>
    
    <view class="achievement-list">
      <block wx:for="{{achievements}}" wx:key="id" wx:for-item="achievement">
        <view class="achievement-item">
          <view class="achievement-icon {{achievement.rarity}}">
            <text class="icon">{{achievement.icon}}</text>
          </view>
          <view class="achievement-info">
            <text class="achievement-name">{{achievement.name}}</text>
            <text class="achievement-desc">{{achievement.description}}</text>
          </view>
        </view>
      </block>
    </view>
  </view>
</view>